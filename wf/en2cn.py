# 英文名转为中文名
names = {
    "fire_dragon": "瓦格纳",
    "pirates_girl": "玛丽娜",
    "clarisse": "克拉莉丝",
    "battle_maid_xm19": "玛丽安(圣诞)",
    "heavenly_one": "诺埃妮",
    "compliment_oiran": "菊野",
    "black_wolf_knight": "罗尔夫",
    "tiger_treasure_hunter_smr20": "米娅(泳装)",
    "kunoichi_1anv": "花火(周年)",
    "lady_summoner_xm20": "碧安卡(圣诞)",
    "halberd_princess": "托莉亚",
    "doctor_pirate": "燎",
    "onmyoji_boy_wt21": "水善(白情)",
    "magical_bayonetter": "克亚雷",
    "zeta": "塞达",
    "alk": "阿尔克",
    "dragon_slayer": "阿赛尔",
    "dragon_slayer_smr21": "阿赛尔(泳装)",
    "lady_summoner": "碧安卡",
    "kunoichi": "花火",
    "half_oni_boy": "阿须桐丸",
    "master_knight": "格莱德",
    "red_gunner": "卡农",
    "reporter_ny20": "璐璐卡(新年)",
    "shapely_soldier": "蕾维",
    "crybaby_shooter": "琪丽",
    "pirates_gunner": "贝伊斯",
    "sanctuary_guard": "米尔米娜",
    "magic_sword_girl": "娜希尔",
    "vigilante_boy": "仓丸",
    "yugiri": "夕雾",
    "sorceress_teacher": "妮可拉",
    "alk_1anv": "阿尔克(周年)",
    "cool_woman_soldier_xm20": "特雷涅(圣诞)",
    "naginata_girl": "舞姬",
    "alchemist": "莉莉露",
    "pretty_witch": "梅米",
    "gunslinger": "伊莉斯",
    "monster_hunter": "哈修",
    "black_doctor": "仁",
    "cool_woman_soldier": "特雷涅",
    "berserker": "吉斯拉多",
    "fire_shaman": "恩妮",
    "disciplined_swordman": "杰克",
    "birdwoman": "可兰",
    "tradition_healer": "哈丽莎",
    "brave_mouse": "斯文",
    "sewing_girl": "莉莉安",
    "wolf_assassin_wt21": "克劳斯(白情)",
    "guardian_golem": "魔像",
    "kinoko": "蘑仔",
    "slango_red": "红波露",
    "spirit_fire": "火精",
    "brown_fighter": "索妮雅",
    "onmyoji_boy": "水善",
    "lightbullet_wiz_ny20": "艾莉亚(新年)",
    "ice_witch": "赛法",
    "commander": "希丽奴",
    "lakeside_guardian": "里姆尼斯",
    "drawing_witch": "拉绮夏",
    "prince_zero_smr20": "拉杰尔特(泳装)",
    "minamoto_sakura": "源樱",
    "freeze_eye": "雷拉斯",
    "emilia": "爱蜜莉雅",
    "rem": "雷姆",
    "waterdragon_kunfu": "谢胧",
    "desert_commander": "哈里达尔",
    "mermaid_1halfanv": "亚美莉亚(礼服)",
    "bishop_girl": "莉洁儿",
    "mermaid": "亚美莉亚",
    "alice": "爱丽丝",
    "battle_guild_staff": "夏农",
    "swallow_knight_ny20": "尤维尔",
    "spry_sailor": "拉纳",
    "deepsea_mage": "萨尔",
    "desert_wizard": "莫迪亚迦",
    "onmyo_attendant": "蛟",
    "psycho_reaper": "索维",
    "psycho_reaper_smr21": "索维(泳装)",
    "unicorn_lancer_smr20": "杰拉尔(泳装)",
    "pirates_girl_smr20": "玛丽娜(泳装)",
    "shy_assassin": "薇薇",
    "urban_soldier_ny21": "崔丝塔(新年)",
    "ruin_lady": "索媞艾丝",
    "hero_girl": "奈特",
    "sniper": "凯洛斯",
    "urban_soldier": "崔丝塔",
    "hard_face_soldier": "瓦尔塔",
    "nurse": "艾尔莎",
    "wolf_assassin": "克劳斯",
    "fox_companion": "白乃",
    "fox_companion_smr21": "白乃(泳装)",
    "depraved_monk": "诲谕",
    "sailor_girl": "拉蒂",
    "cute_fafnir": "法夫",
    "mens_attire_girl": "莉可",
    "dryad_xm19": "茶露亚(圣诞)",
    "junior_yearngirl": "克菈菈",
    "little_shaman": "纱玛莎",
    "scout_girl": "莉塔",
    "slango_blue": "蓝波露",
    "fox_oracle": "稻穗",
    "fox_oracle_smr21": "稻穗(泳装)",
    "cagliostro": "卡莉奥丝特罗",
    "samurai_xm19": "宗士郎(圣诞)",
    "thunder_archer": "梅媞斯",
    "mighty_striker": "巴拉克",
    "machine_police_girl": "塞拉",
    "machine_police_girl_smr21": "塞拉(泳装)",
    "big_gunner": "牡丹",
    "illusionist_smr20": "伊路米(泳装)",
    "dimension_witch_smr20": "贝尔赛蒂亚(泳装)",
    "rec_android_1anv": "雷吉斯(周年)",
    "heavenly_two": "布茜",
    "girl_and_mecha": "洛蒂",
    "general_toyakiren": "兹茵可",
    "samurai_robot": "斩铁",
    "thunder_dragon": "拉姆斯",
    "fox_scientist": "露娜露",
    "rec_android": "雷吉斯",
    "elf_soldier": "艾琳诺儿",
    "cat_shaman": "杰",
    "minotaur_girl": "米诺",
    "docking_beast_xm19": "欧雷欧(圣诞)",
    "black_hair_swordman": "阿德尼",
    "lady_android": "露迪",
    "fake_princess": "普莉卡",
    "casino_dealer_smr20": "奈丝卡(泳装)",
    "hidden_blader": "罗塞莉亚",
    "mizuno_ai": "水野爱",
    "fox_scientist_hw20": "露娜露(万圣)",
    "black_hair_swordman_xm20": "阿德尼(圣诞)",
    "little_wizard": "托·蕾蕾妮",
    "punk_warrior": "艾蒂塔",
    "electro_girl": "特尔娜",
    "secret_observer": "吉泽尔",
    "twin_blader": "优娜",
    "bee_girl": "赫妮",
    "lightning_fighter": "泰加",
    "outlaw_panther": "黑",
    "wolf_swordsman": "阿尔伯特",
    "oni_girl": "加津知",
    "sociable_mestizo": "泰奇安娜",
    "magic_boy": "科特",
    "student_gunsmith": "夏·丝丝",
    "fortuneteller": "芙拉",
    "cat_fighter_ny20": "缪(新年)",
    "old_mercenary": "卑尔根",
    "floating_girl": "芙拉娜",
    "slango_yellow": "黄波露",
    "paralysis_hedgehog": "帕拉鼠",
    "wind_spgirl": "希尔媞",
    "wind_oracle": "菲莉亚",
    "katana_ghost": "丛云",
    "mercenary": "雷恩",
    "bigwing_shaman": "西微",
    "bigwing_shaman_smr21": "西微(泳装)",
    "gentle_barten": "米格里",
    "kokkoro": "可可萝",
    "wind_dragon": "休尔特",
    "nikaido_saki": "二阶堂咲",
    "elf_princess": "艾丝缇莉艾尔",
    "wind_spgirl_1anv": "希尔媞(周年)",
    "timid_kunoichi_ny21": "凉风(新年)",
    "combat_animal": "芙拉菲",
    "brown_fighter_dst21": "索妮雅(沙漠)",
    "beast_shaman": "涅维亚",
    "elf_princess_1halfanv": "艾丝缇莉艾尔(礼服)",
    "white_tiger": "白",
    "tiger_treasure_hunter": "米娅",
    "birdman": "奥罗尔",
    "samurai": "宗士郎",
    "elf_archer": "梅露希儿",
    "dog_slasher": "赫尔加",
    "arisa": "亚里莎",
    "bearish_darkwitch_ny20": "蕾贝卡(新年)",
    "beast_adventurer": "露",
    "timid_kunoichi": "凉风",
    "tengu_girl": "小羽",
    "ekaki_onmyoji": "鹄",
    "wild_boy": "哈奥",
    "white_tiger_xm20": "白(圣诞)",
    "ram": "拉姆",
    "wind_striker": "里卡尔德",
    "steel_lacrosse": "米迪",
    "cool_witch_girl": "皮亚莫",
    "highlander": "伊凡",
    "dryad": "茶露亚",
    "lich": "瑞西塔尔",
    "casino_dealer": "奈丝卡",
    "cat_fighter": "缪",
    "devil_clown": "菲勒斯",
    "herbalist": "荷莉",
    "spearman": "科那",
    "trap_errand": "贾斯塔",
    "gang_girl": "凯特",
    "lazy_genious": "涅迪",
    "owl": "波吉特",
    "fox": "镰鼬",
    "slango_green": "绿波露",
    "ruin_girl": "奈芙提姆",
    "prince_zero": "拉杰尔特",
    "bodysuit_trooper": "艾可莉儿",
    "bodysuit_trooper_smr21": "艾可莉儿(泳装)",
    "fox_oracle_xm19": "稻穗(圣诞)",
    "starbreak_hunter": "塔吉斯",
    "combat_soldier": "贝瑞塔",
    "blade_dancer": "里布拉姆",
    "ruin_girl_halfanv": "奈芙提姆(礼服)",
    "pecorine": "佩可莉姆",
    "neoviolin_musician": "莉菈",
    "high_priestess": "奥薇尔",
    "lamp_guide": "菲拉梅里亚",
    "hoshikawa_ririi": "星川莉莉",
    "wind_oracle_1anv": "菲莉亚(周年)",
    "lightbullet_wiz_vt21": "艾莉亚(情人节)",
    "crystal_swordman": "赛里奥尔",
    "yokai_exterminator": "莲月",
    "sing_android": "蒂亚",
    "unicorn_lancer": "杰拉尔",
    "lightbullet_wiz": "艾莉亚",
    "palpebra_knight": "芬",
    "palpebra_knight_lady": "绮拉",
    "monster_cook": "帕尔菲",
    "illusionist": "伊路米",
    "unleash_hunter": "霍普",
    "unyielding_adventurer": "莱亚",
    "whitedog_beast": "芙洛丽塔",
    "bishop_girl_smr20": "莉洁儿(泳装)",
    "keylock_girl": "琪亚娜",
    "resistance_princess": "莉莉丝",
    "resistance_princess_smr21": "莉莉丝(泳装)",
    "doctor_machine": "梅克",
    "woman_knight_1anv": "赛希莉亚(周年)",
    "sea_violent": "蒂蕾特",
    "whitedog_beast_vt21": "芙洛丽塔(情人节)",
    "sleep_puppy": "菲妮",
    "priest": "可莉娜",
    "lady_gunner": "玛格丽特",
    "woman_knight": "赛希莉亚",
    "docking_beast": "欧雷欧",
    "exorcist_oldman": "劳尔",
    "half_knight": "米雷斯",
    "reporter": "璐璐卡",
    "wild_wolfgirl": "加萝",
    "moth_girl": "摩菈",
    "priest_hw20": "可莉娜(万圣)",
    "junior_soldier": "可莎",
    "skateboard_boy": "阿克塞姆",
    "kids_gunner": "鲁·鲁特",
    "dimension_witch": "贝尔赛蒂亚",
    "veteran_hunter": "威隆",
    "blade_witch": "莫弥亚",
    "cursed_girl": "卡菈",
    "olivia": "奥莉维亚",
    "kyaru": "凯露",
    "alice_smr20": "爱丽丝(泳装)",
    "konno_junko": "绀野纯子",
    "sing_android_hw20": "蒂亚(万圣)",
    "dark_psygirl": "蒂妮",
    "devil_leader": "艾迪凯斯",
    "silent_ninja": "八云",
    "devil_princess_xm20": "阿露姆(圣诞)",
    "summoner_little": "珂艾特",
    "noble_sorceress": "梅尔维奥拉",
    "dark_psygirl_dst21": "蒂妮(沙漠)",
    "beatrix": "贝阿朵丽丝",
    "blindness_gunner_1halfanv": "赛吉尔(礼服)",
    "devil_princess": "阿露姆",
    "battle_maid": "玛丽安",
    "undead_boy": "安迪",
    "warlock": "里昂",
    "swallow_knight": "尤维尔(新年)",
    "sword_beauty": "葵泽",
    "touyakiren_ceo": "拉芙",
    "blindness_gunner": "赛吉尔",
    "luna": "露娜",
    "lady_gunner_smr20": "玛格丽特(泳装)",
    "dinosaur_hunter": "格里格",
    "crazy_doctor": "布莱斯",
    "yamada_tae": "山田多惠",
    "reaper_girl_hw20": "法露伽(万圣)",
    "illegal_herbalist": "塞尔玛",
    "devil_woman_soldier_1anv": "厄莉(周年)",
    "subaru": "菜月·昴",
    "mystery_agent": "爱德华",
    "walking_armor": "伦达尔",
    "desert_caravans": "塔维尔",
    "reaper_girl": "法露伽",
    "chakram_shooter": "札里尔",
    "devil_woman_soldier": "厄莉",
    "informant": "紫苑",
    "arabic_swordman": "阿迪尔",
    "dark_nursemaid": "桃乐西亚",
    "bearish_darkwitch": "蕾贝卡",
    "monster_attract": "诺塞尔",
    "delusion_girl": "梅利露",
    "delusion_girl_xm20": "梅利露(圣诞)",
    "mummy_boy": "塔尔哈",
    "revenge_rabbit": "科迪",
    "tengu_master": "豪岚",
    "tsundere_bountyhunter": "蕾缇希娅",
    "holy_mother": "娜莉亚",
    "stylish_witch": "法颂",
    "dress_gunner": "爱芙琳",
    "elder_guild_fighter": "玛奇斯",
    "bird_master": "鲁马尔克",
    "rookie_adventurer": "米蕾特",
    "desert_priest": "萨莉哈",
    "blackflower_wiz": "普莉姆菈",
    "assistant_boy": "鲁斯尔",
    # boss
    "multi_battle_pickup_empress": "青之女王",
    "white_tiger_ghost": "白虎",
    "lich": "不死王瑞西塔尔",
    "treant": "雷霆树妖",
    "orochi": "八岐大蛇",
    "ghost_fox": "狐妖",
    "administrator": "管理者",
    "security_armor": "Sec-5200Li",
    "boar_rider": "风将獠牙骑士",
    "arch_evil": "诅咒弧魔艾基尔",
    "hermit_crab": "寄居蟹船长",
    "kraken": "潮汐巨妖",
    "guardian_golem": "废墟魔像",
    "guardian_totem": "废墟守卫·火",
    "owl": "维·索拉斯",
    # future
    "stella": "史黛拉",
    "light": "莱特",
    "砂漠の領主": "沙漠领主",
    "load_of_sand": "沙漠领主",
    "領主の少年?ローラン": "少年领主",
    "loran": "罗兰",
    "stella_copy_known": "面具术士",
    "仮面の術者": "面具术士",
    "海贼A": "海盗A",
    "海贼B": "海盗B",
    "海贼船长": "海盗船长",
    "dog_king": "犬族之王",
    "elder_cat": "猫长老",
    "admin_human": "管理者(人)",
    "mob_onmitsu": "护卫",
    "big_orga": "大鬼",
    "stella_copy_mask_off": "史黛拉？",
    "flame_witch_known": "红发老战士",
    "flame_witch": "夏可缇",
    "devil_commander_known": "魔族男性",
    "devil_commander_unknown": "？？？",
    "devil_commander": "伊尔比斯",
    "gaunt_women": "消瘦的女子",
    "old_mermaid_man_known": "爷爷",
    "refugees_boy_known": "难民男孩",
    "refugees_boy": "艾力克",
    "refugees_women": "难民女子",
    "refugees_child": "难民小孩",
    "refugees_man": "难民男子",
    "knight_leaders": "干部青年",
    "knight_length_mob": "骑士长",
    "knight_mob": "骑士",
    "soldier_mob": "士兵",
    "guard_man": "警卫兵",
    "elf_princess_disguise_unknown": "？？？",
    "elf_princess_disguise_known": "精灵少女",
    "elf_princess_disguise": "莉艾尔",
    "tree_people": "木桩",
    "devil_leader_known": "戴兜帽的男子",
    "devil_leader_known2": "魔族男性",
    "devil_leader_unknown": "？？？",
    "elf_warrior_unknown": "？？？",
    "elf_warrior": "精灵战士",
    "elf_princess_known": "莉艾尔？",
    "golden_dragon": "拉夫马诺",
    "elves_voice_only": "精灵们的声音",
    "refugees_mob": "难民",
    "maou": "魔王",
    "crude_man": "粗鲁的人",
    "gloomy_man": "阴郁的人",
    "devil_sismama_unknown": "？？？",
    "devil_sismama": "梅莉",
    "devil_ylbis": "伊尔比斯",
    "demons_people": "魔族",
    "demons_soldier": "魔族之兵",
    "victory_voice": "战斗声",
    "demons_executive": "魔族干部",
}
# 如果name和filename不同，则添加到下面
filenames = {
    "flame_witch_known": "夏可缇",
    "devil_commander_known": "伊尔比斯",
    "devil_commander_unknown": "伊尔比斯_unknown",
    "gaunt_women": "",
    "old_mermaid_man_known": "",
    "refugees_boy_known": "艾力克",
    "refugees_women": "",
    "refugees_child": "",
    "refugees_man": "",
    "knight_leaders": "",
    "knight_length_mob": "",
    "knight_mob": "",
    "soldier_mob": "",
    "guard_man": "",
    "elf_princess_disguise_unknown": "",
    "elf_princess_disguise_known": "", # 莉艾尔
    "elf_princess_disguise": "",
    "tree_people": "",
    "devil_leader_known": "",
    "devil_leader_known2": "艾迪凯斯",
    "devil_leader_unknown": "艾迪凯斯_unknown",
    "elf_warrior_unknown": "",
    "elf_warrior": "",
    "elf_princess_unknown": "艾丝缇莉艾尔_unknown",
    "elf_princess_known": "艾丝缇莉艾尔",
    "elves_voice_only": "",
    "refugees_mob": "",
    "crude_man": "",
    "gloomy_man": "",
    "devil_sismama_unknown": "梅莉",
    "devil_ylbis": "伊尔比斯_ylbis",
    "demons_people": "",
    "demons_soldier": "",
    "victory_voice": "",
    "demons_executive": "",
}
# 技能名
skillnames = {
    "atk_all_direction": "朝不同方向攻击",
    "atk_surround": "攻击自己周围区域",
    # "atk_back": "",
    "atk_common": "攻击",
    "atk_field": "领域全体效果",
    "atk_four_ranges": "上下左右方向攻击",
    "atk_four_ranges_cross": "对角线方向攻击",
    "atk_front": "前进攻击",
    "atk_front_back": "前后方向攻击",
    "atk_go_direction": "行进方向攻击",
    "atk_hit": "对击中的敌人有效",
    "atk_nearest": "攻击最近的敌人",
    "fever": "FEVER槽提升",
    "flip": "强化弹射伤害上升",
    "float": "浮游",
    "heal": "治疗",
    "invincible": "无敌",
    "multi_ball": "协力球",
    "multi_bomb": "炸弹协力球",
    "penet": "贯穿",
    "poison": "中毒",
    "regene": "再生",
    "resist": "弱体抗性上升",
    "resist_up_purple": "暗属性抗性上升",
    "resist_up_red": "火属性抗性上升",
    "resist_up_white": "光属性抗性上升",
    "skill_str_up": "技能伤害上升",
    "str_up": "攻击力上升",
}

def en2cn(en):
    en = en.replace(".png", "").replace(".jpg", "")
    return names.get(en, "")

def en2f(en):
    en = en.replace(".png", "").replace(".jpg", "")
    return filenames.get(en, names.get(en, ""))

def en2skill(en):
    en = en.split("/")[-1]
    return skillnames.get(en, en)

def story_no_chapter():
    wf = open("en2cn.txt", "w+", encoding="utf-8")
    with open("en.txt", "r", encoding="utf-8") as rf:
        line = rf.readline()
        while line:
            line = line.replace("\n", "").replace("\\n", "<br>").split("\t")
            cn = en2cn(line[0])
            f = en2f(line[1])
            if cn == "":
                wf.write("{{对话||" + line[0] + "|" + line[1] + "}}\n")
            else:
                wf.write("{{对话|" + f + "|" + cn + "|" + line[1] + "}}\n")
            line = rf.readline()
    wf.close()

def story_with_chapter():
    chapter = open("enChapter.txt", "r", encoding="utf-8")
    wf = open("en2cn.txt", "w+", encoding="utf-8")
    idx = "00"
    with open("en.txt", "r", encoding="utf-8") as rf:
        line = rf.readline()
        while line:
            line = line.replace("\n", "").replace("\\n", "<br>").split("\t")
            if line[1] == "1":
                line = rf.readline()
                continue
            if idx != line[0]: # new chapter
                idx = line[0]
                c = chapter.readline()
                c = c.replace("\n", "").replace("\\n", "<br>").split("\t")
                wf.write("==" + c[0] + "==\n")
                wf.write("{{折叠|宽度=100%\n")
                wf.write("|标题=剧情梗概\n")
                wf.write("|内容=" + c[1] + "\n")
                wf.write("}}\n")
            cn = en2cn(line[1])
            f = en2f(line[1])
            if cn == "":
                wf.write("{{对话||" + line[1] + "|" + line[2] + "}}\n")
            else:
                wf.write("{{对话|" + f + "|" + cn + "|" + line[2] + "}}\n")
            line = rf.readline()
    wf.close()

if __name__ == "__main__":
    # story
    story_with_chapter()